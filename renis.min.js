!function(e,t){function o(r){function i(){return!(!e.history||!e.history.pushState)}function a(e,o,r){r=r||{};var i=r.expires;if("number"==typeof i&&i){var a=new Date;a.setTime(a.getTime()+1e3*i),i=r.expires=a}i&&i.toUTCString&&(r.expires=i.toUTCString()),o=encodeURIComponent(o);var n=e+"="+o;for(var c in r){n+="; "+c;var s=r[c];s!==!0&&(n+="="+s)}t.cookie=n}function n(e){var o=t.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return o?decodeURIComponent(o[1]):void 0}function c(t,o){t&&o&&(_&&e.localStorage.setItem(t,o),v&&a(t,o,{expires:31536e3}))}function s(t){if(t){var o,r;return _&&(o=e.localStorage.getItem(t)),v&&(r=n(t)),o||r||void 0}}function u(){var o=e._fbq||(e._fbq=[]);if(!o.loaded){var r=t.createElement("script");r.async=!0,r.src="//connect.facebook.net/en_US/fbds.js";var i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i),o.loaded=!0}}function p(e,t){void 0!==e&&-1!=Object.prototype.toString.call(this[e]).indexOf("Function")&&this[e].apply(this,t)}function l(e){if(e&&-1!=Object.prototype.toString.call(e).indexOf("Array"))for(var t=0;t<e.length;t++)Object.prototype.toString.call(e[t]).indexOf("Array")>-1&&p.apply(this,[e[t][0],e[t].slice(1)])}function f(t){t&&(e._fbq=e._fbq||[],e._fbq.push(["addPixelId",t]),e._fbq.push(["track","PixelInitialized",{}]))}var d,y=this,g={redirect:/__fb_true=1/},m="__uid",h=e.location.href,_="localStorage"in e,v=navigator.cookieEnabled,b={},x={_audience:"1418051851832684",auto:{options:{casco:"6022958850356",osago:"6022958850356",osago_casco:"6022958850356"},extra:{casco:"6022958860956",osago:"6022958860956",osago_casco:"6022958860956"},confirm:{casco:"6022958899356",osago:"6022958899356",osago_casco:"6022958899356"},confirmm:{casco:"6022959029556",osago:"6022959029556",osago_casco:"6022959029556"},order:{casco:"6022958867356",osago:"6022958867356",osago_casco:"6022958867356"}}};o.prototype.push=function(){Object.prototype.toString.call(arguments[0]).indexOf("Array")>-1?l.call(y,arguments):l.call(y,[Array.prototype.slice.call(arguments)])},this.init=function(){l.call(y,r),e.clearTimeout(b.oninit),e.clearTimeout(b.onredirect),b.onredirect=e.setTimeout(function(){g.redirect.test(h)&&(d=s(m),d&&y.redirect(d))},1e3),b.oninit=e.setTimeout(function(){u(),f(x._audience)},3e3)},this.redirect=function(t){t&&(e.location.search="?calc_id="+t+"&utm_source=aitarget&utm_medium=retargeting")},this.trigger=function(t,o){t&&(o=o?Number(o).toFixed(2):0..toFixed(2),e._fbq=e._fbq||[],e._fbq.push(["track",t,{value:o,currency:"RUB"}]))},this.track=function(t){if(-1!=Object.prototype.toString.call(t).indexOf("Object")){t.accountNumber&&c(m,t.accountNumber),t.page&&y.updateQuery("__fb_page",t.page),t.policyType||(t.policyType="");var o=t.policyType.replace(/\+/gi,"_");y.updateQuery("__fb_"+o,1),f(x._audience),e.setTimeout(function(){y.updateQuery("__fb_page"),y.updateQuery("__fb_"+o)},1500),x[t.calcName]&&x[t.calcName][t.page]&&x[t.calcName][t.page][o]&&y.trigger(x[t.calcName][t.page][o],t.cost)}},this.parseQuery=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^\?/,""),e?e.trim().split("&").reduce(function(e,t){var o=t.replace(/\+/g," ").split("="),r=o[0],i=o[1];return r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(r)?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i,e},{}):{})},this.stringifyQuery=function(e){return e?Object.keys(e).map(function(t){var o=e[t];return Array.isArray(o)?o.map(function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&"):encodeURIComponent(t)+"="+encodeURIComponent(o)}).join("&"):""},this.pushQuery=function(t,o){if(i()&&t){var r=y.parseQuery(e.location.search);r[t]=o;var a=y.stringifyQuery(r);e.history.pushState({},"",e.location.pathname+"?"+a+e.location.hash)}},this.updateQuery=function(t,o){if(i()&&t){var r=y.parseQuery(e.location.search);r[t]=o,"undefined"==typeof o&&delete r[t];var a=y.stringifyQuery(r);e.history.replaceState(e.history.state,"",e.location.pathname+"?"+a+e.location.hash)}},this.removeQueryKeys=function(t){if(i()){for(var o=y.parseQuery(e.location.search),r=0;r<t.length;r++){var a=t[r];delete o[a]}t||(o={});var n=y.stringifyQuery(o);e.history.replaceState(e.history.state,"",e.location.pathname+"?"+n+e.location.hash)}}}e._ait&&e._ait.inited||(e._ait.inited=!0,e._ait=new o(e._ait),e._ait.init())}(window,document);